(()=>{"use strict";const e=window.wp.blocks,l=JSON.parse('{"u2":"freemius-blocks/buy-button"}'),t=window.wp.element,n=window.wp.blockEditor,u=window.wp.components,{__}=wp.i18n;(0,e.getBlockType)("freemius-blocks/buy-button")||(0,e.registerBlockType)(l.u2,{title:"Freemius Buy Button",edit:function({attributes:e,setAttributes:l}){const i=(0,n.useBlockProps)(),{public_key:o,plugin_id:a,plan_id:r,billing_cycle:s,buttonLabel:c}=e;return(0,t.useEffect)((()=>{c||l({buttonLabel:__("Buy Now","freemius-blocks")})}),[]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(u.PanelBody,{title:__("SDK Settings","content-protector"),initialOpen:!0},(0,t.createElement)(u.TextControl,{...i,label:__("Public Key","freemius-blocks"),onChange:e=>{l({public_key:e})},value:o,id:"freemius-public-key"}),(0,t.createElement)(u.TextControl,{...i,label:__("Plugin ID","freemius-blocks"),onChange:e=>{l({plugin_id:e})},type:"number",value:a,id:"freemius-plugin-id"}),(0,t.createElement)(u.TextControl,{...i,label:__("Plan ID","freemius-blocks"),onChange:e=>{l({plan_id:e})},type:"number",value:r,id:"freemius-plan-id"}),(0,t.createElement)(u.SelectControl,{label:__("Billing Cycle","freemius-blocks"),value:s,options:[{label:"Annual",value:"annual"},{label:"Monthly",value:"monthly"},{label:"Lifetime",value:"lifetime"}],onChange:e=>{l({billing_cycle:e})}}),(0,t.createElement)(u.TextControl,{...i,label:__("Button Label","freemius-blocks"),onChange:e=>{l({buttonLabel:e})},value:c,defaultValue:__("Buy Now","freemius-blocks")}))),(0,t.createElement)("div",{...(0,n.useBlockProps)()},a&&r&&s&&o?(0,t.createElement)(u.Button,{variant:"primary",id:`ps-${a}-${r}-${s}`,className:"freemius-buy-button"},c):(0,t.createElement)(u.Button,{variant:"primary",className:"freemius-buy-button"},c)))},save:()=>null})})();